===================================
怪想法―关于缓解C/S之间的“交流障碍”
===================================
:author: cupen
:contact: contact.
:tags: http,cs
:version: 1.0.
:date: 2013-07-02 01:33:26
:copyright: copyleft.


本想法应用场景是在 HTTP这种“请求-应答”式的数据交换方式下。  
先描述一个普通web应用的运作,不要在意细节 ;)  

1. Client 向Server发出请求;
2. Server收到请求处理之，然后发出应答;
3. Client 收到应答;
4. Client 分析应答，并产生对应的“行为";

如上，普通web应用的运作过程就是不断地重复以上步骤。

且看编号 4 里描述的，Client需要解读Server应答过来的数据，然后做出相应的”行为"，这里的行为
可以是弹个窗、播个动画之类或者干脆是再发个请求等等。这就需要Client和Server之间立一个小约定，
或者叫“单方面协议”。这个“单方面协议”约定了Server端应答过来的各项数据的含义，Client程序按照约
定来理解其含义即可。至于数据格式用什么，目前小子知道的仅有：二进制的Msgpack,Protocol buffers
等等，纯文本的JSON,XML,甚至是脚本语言源码（如JavaScript）。

如此，也就万事大吉了，程序员们就可以安心回家睡觉觉了。但是，Server程序需要提供的数据形式远远
不止一个，可能得成百上千乃至上万。而这些数据可能由不同的接口提供，并且这些接口的数量也可能成
百上千乃至上万，更要命的是这些接口又是由不同的coder在不同的时间不同的状态下coding而成。失恋
的coder、陷入爱河的coder、潘coder和高富帅coder，他们在代码上的设计肯定是千差万别，如果数据
的含义由他们各自拟定的话，得让他们达成共识才行，否则随着接口数量的增加，数据含义也会越来越多，
能搞清它的人会越来越少，文档会越写越让人不想看。

目前小子使用给数据集合编号的方式解决这个问题，我很荣幸、很无耻地将每个数据单位称为消息。

未完待续……
欲知后事如何，请听下个月分解。